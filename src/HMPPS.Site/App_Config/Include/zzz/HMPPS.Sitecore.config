<?xml version="1.0"?>
<configuration xmlns:patch="http://www.sitecore.net/xmlconfig/" xmlns:set="http://www.sitecore.net/xmlconfig/set/" >
  <sitecore>
    <sc.variable name="tempFolder" value="/temp"/>
    <watchers>
      <xsl>
        <folder>/xsl</folder>
        <filter>*.xslt</filter>
      </xsl>
    </watchers>
    <!-- LINK DATABASE -->
    <LinkDatabase type="Sitecore.Data.$(database).$(database)LinkDatabase, Sitecore.Kernel">
      <param connectionStringName="core"/>
    </LinkDatabase>
    <!-- ID TABLE -->
    <IDTable type="Sitecore.Data.$(database).$(database)IDTable, Sitecore.Kernel" singleInstance="true">
      <param connectionStringName="master"/>
      <param desc="cacheSize">2500KB</param>
    </IDTable>
    <!-- CLIENT DATASTORE -->
    <clientDataStore type="Sitecore.Data.$(database).$(database)ClientDataStore, Sitecore.Kernel">
      <param connectionStringName="core"/>
      <param desc="object lifetime">00:20:00</param>
    </clientDataStore>
    <scheduling>
      <agent type="Sitecore.Tasks.UrlAgent" method="Run" interval="00:15:00">
        <patch:delete />
      </agent>
      <!-- Agent to clean up work files -->
      <agent type="Sitecore.Tasks.CleanupAgent" method="Run" interval="06:00:00">
        <!-- Specifies files to be cleaned up.
             If rolling="true", [minCount] and [maxCount] will be ignored.
             [minAge] and [maxAge] must be specified as [days.]hh:mm:ss. The default value
             of [minAge] is 30 minutes.
             [strategy]: number of files within hour, day, week, month, year
             [recursive=true|false]: descend folders?
        -->
        <files hint="raw:AddCommand">
          <remove folder="$(dataFolder)/logs" pattern="*log.*.txt" maxAge="30.00:00:00"/>
          <remove folder="$(dataFolder)/viewstate" pattern="*.txt" maxAge="2.00:00:00" recursive="true"/>
          <remove folder="$(tempFolder)/diagnostics" pattern="*.*" maxAge="00:10:00" recursive="true"/>
          <remove folder="d:\local\MediaCache" pattern="*.*" maxAge="90.00:00:00" recursive="true"/>
        </files>
      </agent>
    </scheduling>
    <sites>
      <site name="shell">
        <patch:attribute name="enableItemLanguageFallback">true</patch:attribute>
        <patch:attribute name="enableFieldLanguageFallback">true</patch:attribute>
      </site>
      <site name="modules_shell" virtualFolder="/sitecore modules/shell" physicalFolder="/sitecore modules/shell" rootPath="/sitecore/content" startItem="/home"
        language="en" database="core" domain="sitecore" content="master" enableTracking="false" enableWorkflow="true"/>
      <site name="website">
        <patch:attribute name="dictionaryDomain">{B824C5D0-37C9-4ED4-9E08-DBDABEF0C1AC}</patch:attribute>
        <patch:attribute name="enableItemLanguageFallback">true</patch:attribute>
        <patch:attribute name="enableFieldLanguageFallback">true</patch:attribute>
      </site>
    </sites>
    <settings>
      <setting name="Languages.AutoRenameItemData" value="true"/>
      <setting name="Login.RememberLastLoggedInUserName" value="false"/>
      <setting name="Login.DisableAutoComplete" value="true"/>
      <setting name="Login.SitecoreUrl" value="https://sdn.sitecore.net/startpage.aspx"/>
      <setting name="InvalidItemNameChars" value="\/:?&quot;&lt;&gt;|[]-" />
      <setting name="Media.CacheFolder" value="/App_Data/MediaCache" />
      <setting name="PageStateStore" value="Sitecore.Web.UI.DatabasePageStateStore,Sitecore.Kernel"/>
      <setting name="ViewStateStore" value="Sitecore.Data.DataProviders.DatabaseViewStateStore,Sitecore.Kernel"/>
      <!--FOR TEST PURPOSES ONLY-->
      <setting name="ContentSearch.Analytics.IndexAnonymousContacts" value="true"/>
    </settings>
    <languageDefinitions>
      <languages>
        <language id="cy" region="gb" codepage="65001" encoding="utf-8" charset="iso-8859-1" icon="flags/16x16/flag_wales.png" />
      </languages>
    </languageDefinitions>
    <linkManager defaultProvider="sitecore">
      <providers>
        <clear/>
        <add name="sitecore" type="Sitecore.Links.LinkProvider, Sitecore.Kernel" addAspxExtension="false" alwaysIncludeServerUrl="false" encodeNames="true"
          languageEmbedding="asNeeded" languageLocation="filePath" lowercaseUrls="true" shortenUrls="true" useDisplayName="false"/>
      </providers>
    </linkManager>
    <submitQueue>
      <queue type="Sitecore.Analytics.Data.DataAccess.SubmitQueue.FileSubmitQueue, Sitecore.Analytics" singleInstance="true">
        <param desc="folderPath">d:\local\Submit Queue</param>
      </queue>
    </submitQueue>  
  </sitecore>
</configuration>
