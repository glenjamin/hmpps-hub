!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/hmppsAssets",t(t.s=0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n(1),n(2),n(3),n(4),n(5),n(6);var o=n(7),a=r(o),i=n(8),u=r(i),s=window.HMPPS||{ereader:u.default};s.addCookieMessage=function(){var e=document.getElementById("global-cookie-message");e&&null===(0,a.default)("seen_cookie_message")&&(e.style.display="block",(0,a.default)("seen_cookie_message","yes",{days:28}))},document.addEventListener("DOMContentLoaded",function(){s.addCookieMessage(),Object.keys(s).forEach(function(e){"function"==typeof s[e].init&&s[e].init()})}),window.HMPPS=s},function(e,t,n){"use strict";!function(){function e(e,t,n){e.addEventListener?e.addEventListener(t,function(e){n(e,e.target)},!1):e.attachEvent&&e.attachEvent("on"+t,function(e){n(e,e.srcElement)})}function t(e){return"number"==typeof e.which?e.which:e.keyCode}function n(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function r(r,o){e(r,"keypress",function(e,r){t(e)!==u&&t(e)!==s||"summary"===r.nodeName.toLowerCase()&&(n(e),r.click?r.click():o(e,r))}),e(r,"keyup",function(e,r){t(e)===s&&"SUMMARY"===r.nodeName&&n(e)}),e(r,"click",function(e,t){o(e,t)})}function o(e,t){do{if(!e||e.nodeName.toLowerCase()===t)break;e=e.parentNode}while(e);return e}function a(e){function t(e){var t="true"===e.__details.__summary.getAttribute("aria-expanded"),n="true"===e.__details.__content.getAttribute("aria-hidden");if(e.__details.__summary.setAttribute("aria-expanded",t?"false":"true"),e.__details.__content.setAttribute("aria-hidden",n?"false":"true"),!i){e.__details.__content.style.display=t?"none":"";null!==e.__details.getAttribute("open")?e.__details.removeAttribute("open"):e.__details.setAttribute("open","open")}return e.__twisty&&(e.__twisty.firstChild.nodeValue=t?"►":"▼",e.__twisty.setAttribute("class",t?"arrow arrow-closed":"arrow arrow-open")),!0}if(!c&&(c=!0,0!==(e=document.getElementsByTagName("details")).length)){var n=e.length,a=0;for(a;a<n;a++){var u=e[a];if(u.__summary=u.getElementsByTagName("summary").item(0),u.__content=u.getElementsByTagName("div").item(0),!u.__summary||!u.__content)return;u.__content.id||(u.__content.id="details-content-"+a),u.setAttribute("role","group"),u.__summary.setAttribute("role","button"),u.__summary.setAttribute("aria-controls",u.__content.id),i||(u.__summary.tabIndex=0);var s=null!==u.getAttribute("open");if(!0===s?(u.__summary.setAttribute("aria-expanded","true"),u.__content.setAttribute("aria-hidden","false")):(u.__summary.setAttribute("aria-expanded","false"),u.__content.setAttribute("aria-hidden","true"),i||(u.__content.style.display="none")),u.__summary.__details=u,!i){var d=document.createElement("i");!0===s?(d.className="arrow arrow-open",d.appendChild(document.createTextNode("▼"))):(d.className="arrow arrow-closed",d.appendChild(document.createTextNode("►"))),u.__summary.__twisty=u.__summary.insertBefore(d,u.__summary.firstChild),u.__summary.__twisty.setAttribute("aria-hidden","true")}}r(document,function(e,n){return!(n=o(n,"summary"))||t(n)})}}var i="boolean"==typeof document.createElement("details").open,u=13,s=32,c=!1;e(document,"DOMContentLoaded",a),e(window,"load",a)}()},function(e,t,n){"use strict";Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},o=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,o.prototype=new r,o})},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e+"="+t+"; path=/";if(n.days){var o=new Date;o.setTime(24*(o.getTime()+n.days)*60*60*1e3),r+="; expires="+o.toGMTString()}"https:"===document.location.protocol&&(r+="; Secure"),document.cookie=r},o=function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0,o=n.length;r<o;r++){for(var a=n[r];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(t))return decodeURIComponent(a.substring(t.length))}return null},a=function(e,t,n){return void 0!==t?!1===t||null===t?r(e,"",{days:-1}):r(e,t,n):o(e)};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{init:function(){var e=document.querySelectorAll(".js-ereader-trigger");Array.prototype.forEach.call(e,function(e,t){e.addEventListener("click",function(e){e.preventDefault();var t=e.target.parentNode.getAttribute("data-src"),n=["height="+screen.height,"width="+screen.width,"fullscreen=yes","scrollbars=yes"].join(",");console.log(n);e.target.parentNode.getAttribute("href");if(t.indexOf(".pdf")>=0){window.open(t,"_blank",n)}else{var r=window.open(t,"_blank",n);HMPPS.ereader.createEpub(t,r)}})})},createEpub:function(e,t){HMPPS.ereader.createMarkup(t);var n=document.querySelector(".js-ereader-next"),r=document.querySelector(".js-ereader-prev"),o=document.querySelector(".js-ereader-area"),a=new EPUBJS.Book({width:"900",height:"700",spreads:"true",restore:"true",bookPath:e});a.open(e);var i=a.renderTo(o);r.addEventListener("click",function(){a.prevPage()}),n.addEventListener("click",function(){a.nextPage()});var u=function(e){37==(e.keyCode||e.which)&&rendition.prev(),39==(e.keyCode||e.which)&&rendition.next()};a.on("keyup",u),i.then(function(){var e=a.getCurrentLocationCfi(),t=a.pagination.pageFromCfi(e);t.value=t,console.log(t)})},createMarkup:function(e){var t=document.createElement("div");t.innerHTML='<div class="ereader__area js-ereader-area"></div>\n        <div class="ereader__buttons">\n          <button class="js-ereader-prev ereader__prev" type="button" name="button">Prev</button>\n          <button class="js-ereader-next ereader__next" type="button" name="button">Next</button>\n        </div>',t.classList.add("ereader"),e.document.body.appendChild(t)}}}()}]);